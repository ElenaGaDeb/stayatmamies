<%= simple_form_for(@profile) do |f| %>
<% if @profile.errors.any? %>
<div id="error_explanation">
  <ul>
    <% @profile.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>
<%= f.input :username, label: 'Your username please', error: 'Username is mandatory, please specify one' %>
<%= f.input :profile_type, collection: ["student", "host",] %>
<%= f.input :first_name, label: 'Your first name please', error: 'First name is mandatory, please specify one' %>
<%= f.input :last_name, label: 'Your last name please', error: 'Last name is mandatory, please specify one'  %>
<%= f.input :age, label: 'Your age please', error: 'should be a number ! '  %>
<%= f.input :city_from, label: 'Your city please', error: 'City is mandatory, please specify one'%>
<%= f.input :gender %>
<%= f.input :short_description %>
<%= f.input :detailed_description %>

<% Characteristic.all.each do |characteristic| %>
  <div class="category-item-list">
    <% available_id = @profile.characteristics.ids %>
    <div class="form-group check_boxes optional apartment_amenities">
      <label class="control-label check_boxes optional"></label>
      <input type="hidden" name="apartment[amenity_ids][]" value="" />
      <label for="apartment_amenity_ids_<%= amenity.id %>">
        <% if available_id.include? characteristic.id  %>
          <input class="check_boxes optional" type="checkbox" value="<%= characteristic.id %>" checked="checked"  name="profile[characteristic_ids][]" id="profile_characteristic_ids_<% characteristic.id %>" />
        <% else %>
          <input class="check_boxes optional" type="checkbox" value="<%= characteristic.id %>" name="profile[characteristic_ids][]" id="profile_characteristic_ids_<% characteristic.id %>" />
        <% end %>
        <%= characteristic.name %>
      </label>
    </div>
  </div>
<% end %>

<%= f.input :photo, as: :attachinary %>
<%= f.submit "Save your profile", class: "btn btn-primary" %>
<% end %>



